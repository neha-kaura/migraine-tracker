<!--
  Generated template for the GoalTypePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Configure Goals</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <div class="heading">Choose the goals you have for your migraine tracking? </div>
  <ion-list no-lines class="goals-list" *ngFor="let goal of goalList">
    <ion-item class="goal" text-wrap>
      <ion-label class="goal-description">
        <ion-checkbox checked="false" (click)="toggleGoalSelection(goal)"></ion-checkbox>
        <div>
          <div class="goal-name">{{goal['goalName']}}</div>
          <div class="goal-effort">{{goal['effort']}} effort</div>
          <div class="goal-description">May be a good choice if {{goal['goodChoiceIf']}}</div>
        </div>
      </ion-label>
      <ion-label class="subgoals-list"*ngIf="goal['subgoals'] && selectedGoals.includes(goal['goalID'])">
        <div *ngFor="let subgoal of goal['subgoalList'].subgoals">
            <div class="subgoal-container" >
              <div>{{subgoal['subgoalName']}}</div>
              <button *ngIf="!selectedGoals.includes(subgoal['goalID']); else tickbutton" ion-button small outline (click)="toggleGoalSelection(subgoal)">
                Track
              </button>
              <ng-template #tickbutton><button ion-button light><ion-icon class="info-icon" name="checkmark" (click)="toggleGoalSelection(subgoal)"></ion-icon></button></ng-template>
              <button ion-button clear light><ion-icon class="info-icon" name="ios-information-circle" (click)="onSubgoalInfoClick(subgoal['subgoalName'], subgoal['goodChoiceIf'], subgoal['examples'])"></ion-icon></button>
            </div>
        </div>
      </ion-label>
    </ion-item>
  </ion-list>

  <div class="custom-goals">
    <div class="header">
      <div class="heading">Custom goals</div>
      <div><ion-icon class="info-icon" name="ios-information-circle" (click)="onInfoClick()"></ion-icon></div>
    </div>
    <div>
      <ion-item>
        <ion-textarea [(ngModel)]="textGoals" rows="6" placeholder="Add a custom goal ..."></ion-textarea>
      </ion-item>
    </div>
  </div>

  <!--<div class="slides-container">-->
  <!-- <ion-slides pager="true" #slides>
    <ion-slide *ngFor="let goal of goalList"> -->

    <!-- Already commented -->

      <!--<button type="submit" float-left ion-button  color="primary" class="btnPrev" (click)="prev()">-->
      <!--<ion-icon ion-left name="arrow-back"></ion-icon>-->
      <!--</button>-->

      <!--<button type="submit" float-right ion-button color="primary" class="btnNext" (click)="next()">-->
      <!--<ion-icon name="arrow-forward"></ion-icon>-->
      <!--</button>-->

    <!-- Already commented -->

      <!-- <ion-card class="goalCard">

      <ion-item padding text-wrap>
          <ion-icon name="{{goal['iconName']}}"></ion-icon>
          {{goal['goalName']}}

      </ion-item>
      <ion-card-content>
        <ion-item text-wrap>
          <h3>May be a good choice if:</h3>
          <p *ngFor="let choice of goal['goodChoiceIf']">{{choice}}</p>
        </ion-item>
        <ion-item text-wrap>
          <h3>Examples:</h3>
          <p *ngFor="let example of goal['examples']">"{{example}}"</p>
        </ion-item>
      <ion-item>
          <span *ngIf="goal['effort']">Likely requires {{goal['effort']}} effort</span>
        </ion-item>
        <div class = "item item-divider bottom">
              <button  float-left ion-button icon-only color="{{goal.colors.remove}}" (click)="removeGoal(goal)">
                <ion-icon name="close"></ion-icon>
              </button>
              <button float-right ion-button icon-only color="{{goal.colors.add}}" (click)="addGoal(goal)">
                <ion-icon name="checkmark"></ion-icon>
              </button>
        </div>
      </ion-card-content>

      </ion-card>
    </ion-slide>

    </ion-slides> -->

  <!--</div>-->

  <!-- <ion-card>
    <ion-list>
      <ion-list-header>Selected Goals</ion-list-header>
      <div>
        <ion-item text-wrap *ngFor="let goal of selectedGoals">{{goal}}</ion-item>
      </div>
    </ion-list>
  </ion-card> -->


  <button float-right ion-button (click)="continueSetup()" [color]="selectedGoals.length > 0 ? 'primary': 'light' ">
    Continue
  </button>


</ion-content>
